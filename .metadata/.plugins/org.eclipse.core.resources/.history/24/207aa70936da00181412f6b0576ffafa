#import "function_class_get_all_sub_types"

CREATE FUNCTION class_is_sub_class_of (
		given_class_id INT,
		given_super_class_id INT
	)
	RETURNS BOOL
	COMMENT 'returns true iff class is sub class of given super class'
	LANGUAGE SQL
	NOT DETERMINISTIC
	MODIFIES SQL DATA
	SQL SECURITY DEFINER
BEGIN
	DECLARE found BOOL DEFAULT FALSE;
	SELECT class_get_all_sub_types(given_super_class_id);
	SELECT TRUE INTO found FROM temp_sub_types WHERE id=given_class_id ORDER BY id LIMIT 1;
	RETURN found;
END;