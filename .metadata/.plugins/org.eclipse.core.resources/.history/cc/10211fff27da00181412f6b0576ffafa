#import "function_is_class"

CREATE FUNCTION class_add_supertype (
		given_class_id INT,
		given_supertype_id INT
	)
	RETURNS BOOL
	COMMENT 'adds a new supertype to a class, returns true on success and false on error'
	LANGUAGE SQL
	NOT DETERMINISTIC
	MODIFIES SQL DATA
	SQL SECURITY DEFINER
BEGIN
	DECLARE my_id INT;
	DECLARE my_supertype_id INT;

	SET my_id = create_classifier(given_name, 'CLASS', given_parent_package);
	IF my_id <> -1 THEN
		INSERT INTO classes (id, abstraction) VALUES(my_id, given_abstraction);
	END IF;
	
	RETURN my_id;
END;